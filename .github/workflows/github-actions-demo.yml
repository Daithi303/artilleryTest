name: GitHub Actions Demo
on:
  push:
    branches:
      - master
jobs:
  Seeding:
    runs-on: ubuntu-latest
    steps:
      - run: echo "this is the seeding Job"
  Artillery:
    needs: Seeding
    runs-on: ubuntu-latest
    container: artilleryio/artillery:latest
    steps:
      - name: Checko√çut repository
        uses: actions/checkout@v3

      - name: Execute load test
        run: /home/node/artillery/bin/run run -q --environment functional ./load-test.yml
      - name: Execute Second load tests
        run: /home/node/artillery/bin/run run -q --environment functional ./second-load-test.yml
  Cleanup:
    needs: Artillery
    runs-on: ubuntu-latest
    steps:
      - run: echo "this is the cleanup Job"